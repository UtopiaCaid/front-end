<div>
    <!-- <p>home works!</p>
    <p>
        <a routerLink="/login">Login</a>
    </p> -->
    
    <div *ngIf="this.authService.isLoggedIn; else notlogged ">
     <div *ngIf="(this.roleType == 'ROLE_USER'); else showAdmin">
         <span>
                <!------------------- User Edit profile -->
                <mat-card>
                    <mat-card-content>
                      <form [formGroup]="form" (ngSubmit)="onSubmitUser()" class="center">
                     
                <h2 class="mb-4">Edit Profile of: <strong>{{this.username}}</strong></h2>
               
                <p *ngIf="this.roleType!=''"><strong>Privilage:</strong> {{this.roleType}} <small><i>(can not be changed)</i></small></p>
                
                <div>
                    
                    <p *ngIf="this.username!='' else showUsername"><strong>Current Username:</strong> {{this.username}}</p>
                    <ng-template #showUsername>   
                        <p ><strong>Current Username:</strong> null</p>
                        </ng-template>
                    <mat-form-field class="full-width-input">
                        <mat-error>
                            Please provide a valid username (at least 5 chars no more than 30)
                        </mat-error>
                        <input matInput placeholder="Edit Username"  formControlName="username" value="{{this.username}}">
                    </mat-form-field>
                    
                </div>

                <div>
                    
                    <p *ngIf="this.name!='' else showName"><strong>Current Name:</strong> {{this.username}}</p>
                    <ng-template #showName>   
                        <p ><strong>Current Name:</strong> null</p>
                        </ng-template>
                    <mat-form-field class="full-width-input">
                        <mat-error>
                            Please provide a valid name (no symbols of numbers)
                        </mat-error>
                        <input matInput placeholder="Edit Name"  formControlName="name" value="{{this.name}}">
                    </mat-form-field>
                    
                </div>
                
                <div>
                    <p *ngIf="this.email!='' else showEmail"><strong>Current Email:</strong> {{this.email}}</p>
                    <ng-template #showEmail>   
                        <p ><strong>Current Email:</strong> null</p>
                        </ng-template>
                    <mat-form-field class="full-width-input">
                        <mat-error>
                            Please provide a valid email address (example@email.com)
                        </mat-error>
                        <input matInput placeholder="Edit email" formControlName="email" value="{{this.email}}"  >
                    </mat-form-field>
                </div>

                <div>
                    <p *ngIf="this.phone!='' else showPhone"><strong>Current Phone Number:</strong> {{this.email}}</p>
                    <ng-template #showPhone>   
                        <p ><strong>Current Phone Number:</strong> null</p>
                        </ng-template>
                    <mat-form-field class="full-width-input">
                        <mat-error>
                            Please provide a valid phone number (only numbers)
                        </mat-error>
                        <input matInput placeholder="Edit phone#" formControlName="phone" value="{{this.phone}}"  >
                    </mat-form-field>
                </div>
                
                <div>

                    <mat-form-field class="full-width-input">
                        <mat-error>
                            Please provide a valid password (at least 3 chars, no more than 100)
                          </mat-error>
                    <input matInput placeholder="Change Password" formControlName="newPassword" >
                    </mat-form-field>
                </div>
                <div>

                    <mat-form-field class="full-width-input">
                        <mat-error>
                            Your Current password is required in order to make any changes.
                          </mat-error>
                    <input matInput placeholder="Enter Current Password" formControlName="password" required>
                    </mat-form-field>
                </div>
                <mat-error *ngIf="this.passwordWrong">
                    The password was wrong
                  </mat-error>
                <button class="submit-button" disabled={{!this.form.valid}} mat-button > Submit</button>
      
            </form>
            </mat-card-content>
        </mat-card>
            </span>
    </div>

                <!------------------ ADMIN -------------------------------------->
                    <ng-template #showAdmin>  
                    <div *ngIf="(this.roleType == 'ROLE_ADMIN'); else showError">
                        <span>
                            <mat-card>
                                <mat-card-content>
                                <form [formGroup]="form" (ngSubmit)="onSubmitAdmin()" class="center">
                                
                            <h2 class="mb-4">Edit <strong>ADMIN</strong> Profile of: <strong>{{this.username}}</strong></h2>
                        
                            <p *ngIf="this.roleType!=''"><strong>Privilage:</strong> {{this.roleType}} <small><i>(can not be changed)</i></small></p>

                            <div>
                                
                                <p *ngIf="this.username!='' else showUsername"><strong>Current Username:</strong> {{this.username}}</p>
                                <ng-template #showUsername>   
                                    <p ><strong>Current Username:</strong> null</p>
                                    </ng-template>
                                <mat-form-field class="full-width-input">
                                    <mat-error>
                                        Please provide a valid username (at least 5 chars no more than 30)
                                    </mat-error>
                                    <input matInput placeholder="Edit Username"  formControlName="username" value="{{this.username}}">
                                </mat-form-field>
                                
                            </div>

                            
                            <div>

                                <mat-form-field class="full-width-input">
                                    <mat-error>
                                        Please provide a valid password (at least 3 chars, no more than 100)
                                    </mat-error>
                                <input matInput placeholder="Change Password" formControlName="newPassword" >
                                </mat-form-field>
                            </div>
                            <div>

                                <mat-form-field class="full-width-input">
                                    <mat-error>
                                        Your Current password is required in order to make any changes.
                                    </mat-error>
                                <input matInput placeholder="Enter Current Password" formControlName="password" required>
                                </mat-form-field>
                            </div>
                            <mat-error *ngIf="this.passwordWrong">
                                The password was wrong
                            </mat-error>
                            <button class="submit-button" disabled={{!this.form.valid}} mat-button > Submit</button>
                
                        </form>
                        </mat-card-content>
                    </mat-card>
                        </span>
                </div>
                                <!-- If account is neither admin or user -->
                                                            <ng-template #showError>  
                                                                <div>
                                                                    <h2>Can not edit Current account as it is neither <strong>Admin</strong> or <Strong>User</Strong>. </h2>
                                                                </div>
                                                            </ng-template>
                    </ng-template>



    </div>
    
    
    
    <ng-template #notlogged>
        <div>
            <h2 class="mb-4">You do not have Permission to view this page</h2>
        </div>
    </ng-template>
    </div>